import{c as j,u as g,r as m,j as e,T as w,P as v,C as y,a as N,A as k,p as C,b as S,d as D,L as M,B as E,e as R,f as T,g as A,h as L,i as P,F as B,k as F,R as I}from"./index.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=j("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=j("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=j("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);function U(t){if(!t)return"";let r=t.trim();try{return new URL(r.startsWith("http")?r:`https://${r}`).hostname.replace(/^www\./,"")}catch{return r.split("/")[0].replace(/^www\./,"")}}function H(){const{blacklist:t,addToBlacklist:r,removeFromBlacklist:i}=g(),[a,l]=m.useState(""),[n,d]=m.useState(null),h=async()=>{const s=a.trim();if(!s)return;const o=U(s);if(!o){d("DomÃ­nio invÃ¡lido");return}try{await r(o),l(""),d(null)}catch(x){console.error("[v0] Failed to add to blacklist:",x),d("NÃ£o foi possÃ­vel adicionar. Tente novamente.")}},c=async s=>{try{await i(s)}catch(o){console.error("[v0] Failed to remove from blacklist:",o)}},b=s=>{s.key==="Enter"&&(s.preventDefault(),h())};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-white uppercase tracking-wider",children:"Sites Bloqueados"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:t.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{className:"text-sm",children:"Nenhum site bloqueado ainda"})}):t.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white truncate font-mono",children:s.domain}),typeof s.addedAt=="number"&&e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.addedAt).toLocaleDateString("pt-BR")})]}),e.jsx("button",{onClick:()=>c(s.domain),className:"ml-2 p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors","aria-label":`Remover ${s.domain} da lista`,title:"Remover",children:e.jsx(w,{className:"w-4 h-4"})})]},s.domain))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:s=>l(s.target.value),onKeyDown:b,placeholder:"exemplo.com",className:"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-500 text-sm focus:outline-none focus:border-blue-500/50","aria-label":"Adicionar domÃ­nio Ã  blacklist"}),e.jsxs("button",{onClick:h,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 text-sm font-medium",children:[e.jsx(v,{className:"w-4 h-4"}),"Adicionar"]})]}),n&&e.jsx("p",{className:"text-xs text-red-400 mt-1",children:n})]}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-xs text-blue-300",children:"ðŸ’¡ Sites bloqueados sÃ£o impedidos de carregar durante sessÃµes de foco."})})]})}function K(){const{pomodoro:t,startPomodoro:r,stopPomodoro:i}=g(),[a,l]=m.useState(t.config.focusMinutes||25),[n,d]=m.useState(t.config.breakMinutes||5),[h,c]=m.useState(t.timeRemaining);m.useEffect(()=>{if(t.state==="IDLE"){c(a*60);return}if(!t.startTime){c(t.timeRemaining);return}const o=setInterval(()=>{const x=(Date.now()-t.startTime)/1e3,p=Math.max(0,t.timeRemaining-x);c(p),p<=0&&clearInterval(o)},250);return()=>clearInterval(o)},[t.state,t.startTime,t.timeRemaining,a]);const b=()=>{r(a,n)},s=o=>{const x=Math.floor(o/60),p=Math.floor(o%60);return`${x.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 text-center",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-400 mb-2",children:[t.state==="IDLE"&&"Pronto para comeÃ§ar",t.state==="FOCUS"&&"ðŸŽ¯ Modo Foco",t.state==="BREAK"&&"â˜• Pausa"]}),e.jsx("div",{className:`text-4xl font-bold mb-4 ${t.state!=="IDLE"?"text-blue-400":"text-gray-600"}`,children:s(h)}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsxs("span",{children:["Ciclo ",t.currentCycle," de ",t.config.cyclesBeforeLongBreak]})]})]}),t.state==="IDLE"?e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tempo de Foco (minutos)"}),e.jsx("input",{type:"number",value:a,onChange:o=>l(Number(o.target.value)),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500/50",min:"1",max:"120"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tempo de Pausa (minutos)"}),e.jsx("input",{type:"number",value:n,onChange:o=>d(Number(o.target.value)),className:"w-full px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500/50",min:"1",max:"60"})]}),e.jsxs("button",{onClick:b,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(O,{className:"w-5 h-5"}),"Iniciar Pomodoro"]})]}):e.jsxs("button",{onClick:i,className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx($,{className:"w-5 h-5"}),"Parar Pomodoro"]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-blue-300 mb-2",children:"Como funciona:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-blue-200",children:[e.jsx("li",{children:"Durante o foco, sites da blacklist sÃ£o bloqueados"}),e.jsx("li",{children:"ApÃ³s 4 ciclos, vocÃª ganha uma pausa longa"}),e.jsx("li",{children:"Modo adaptativo aumenta o tempo de foco gradualmente"})]})]})]})}N.register(k,C,S,D,M,E,R,T,A);function W(){const{dailyUsage:t}=g(),r=new Date().toISOString().split("T")[0],i=t[r]||{},a=Object.entries(i).sort(([,u],[,f])=>f-u).slice(0,5),l=Object.values(i).reduce((u,f)=>u+f,0),n=Math.floor(l/60),d=Math.floor(n/60),h=n%60,c=a.map(([u])=>u),b=a.map(([,u])=>Math.floor(u/60)),s={labels:c,datasets:[{data:b,backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(16, 185, 129, 0.7)","rgba(239, 68, 68, 0.7)","rgba(245, 158, 11, 0.7)","rgba(139, 92, 246, 0.7)"],borderColor:"#0d0d1a",borderWidth:2}]},o={labels:c,datasets:[{label:"Minutos",data:b,backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1,borderRadius:4}]},x={maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1f2937",titleColor:"#e5e7eb",bodyColor:"#d1d5db",padding:10,cornerRadius:4}}},p={maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1f2937",titleColor:"#e5e7eb",bodyColor:"#d1d5db",padding:10,cornerRadius:4}},scales:{x:{ticks:{color:"#9ca3af"},grid:{color:"rgba(255, 255, 255, 0.05)"}},y:{beginAtZero:!0,ticks:{color:"#9ca3af"},grid:{color:"rgba(255, 255, 255, 0.1)"}}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-1",children:"USO TOTAL HOJE"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-400",children:[d,"h ",h,"m"]})]}),a.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"DistribuiÃ§Ã£o de Hoje"}),e.jsx("div",{className:"h-40 flex items-center justify-center",children:e.jsx(L,{data:s,options:x})})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Top Sites (Minutos)"}),e.jsx("div",{className:"h-40",children:e.jsx(P,{data:o,options:p})})]})]}):e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-8 text-center",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum dado de uso para hoje ainda."})})]})}function _(){const{isLoading:t,loadState:r,listenForUpdates:i}=g(),[a,l]=m.useState("pomodoro");m.useEffect(()=>{r();const d=i();return()=>d()},[r,i]);const n=()=>{typeof chrome<"u"&&chrome.tabs&&chrome.tabs.create({url:"options.html"})};return t?e.jsx("div",{className:"flex items-center justify-center h-full min-h-[500px] bg-[#0d0d1a]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-400 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-400 text-sm",children:"Carregando..."})]})}):e.jsx("div",{className:"w-full h-full min-h-[500px] bg-[#0d0d1a] p-2",children:e.jsxs("div",{className:"glass-card h-full flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500 to-purple-600 rounded-md",children:e.jsx(B,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-md font-bold text-white",children:"Focus Extension"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Acesso RÃ¡pido"})]})]}),e.jsx("button",{onClick:n,className:"p-2 bg-white/5 hover:bg-white/10 text-gray-300 rounded-lg transition-colors",title:"Abrir painel completo",children:e.jsx(q,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex border-b border-white/10 flex-shrink-0",children:[e.jsx("button",{onClick:()=>l("pomodoro"),className:`flex-1 py-2.5 px-2 text-xs font-semibold transition-colors ${a==="pomodoro"?"border-b-2 border-blue-400 text-white bg-blue-500/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Pomodoro"}),e.jsx("button",{onClick:()=>l("blacklist"),className:`flex-1 py-2.5 px-2 text-xs font-semibold transition-colors ${a==="blacklist"?"border-b-2 border-blue-400 text-white bg-blue-500/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Bloqueio"}),e.jsx("button",{onClick:()=>l("dashboard"),className:`flex-1 py-2.5 px-2 text-xs font-semibold transition-colors ${a==="dashboard"?"border-b-2 border-blue-400 text-white bg-blue-500/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Dashboard"})]}),e.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[a==="pomodoro"&&e.jsx(K,{}),a==="blacklist"&&e.jsx(H,{}),a==="dashboard"&&e.jsx(W,{})]})]})})}F.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsx(_,{})}));
